language: ruby
gemfile:
- Gemfile
rvm:
- 1.9.3
before_install:
- echo -n $EC2_KEY_CHUNK_{0..32} >> ~/.ssh/id_ec2.base64
- cat ~/.ssh/id_ec2.base64 | tr -d ' ' | base64 --decode > ~/.ssh/id_ec2.pem
env:
  global:
  - secure: dzX5JFOaLvdzkqMANSNvtndnMFbbF2aLEpdlDe5Y9IxHdrDaNnPg0E0cN4bmn6PXNkt8bTRLddldCtoHGoyfzjbt4Hs733Gt1jRelK8+fHS1WyCc7EPmRbXcPhbKOIyfJjcq9RjzXtTMkFahj4nCe81RIdE9lz1NAbyvk8VSSk8=
  - secure: FvR/MyvThJmSfLWjubyRVrq270guxrxYJbFDDstnesarDJDCaTpRyQuQms5eoMB1/4cEpAOtt5HJyZ++gZFVYPhRmFTF1Ejpj7eFORfVJaxFVCww4La0nsV6BNugpVD37s6HRjwuoy9/SzgoZi+Q7dej1oKrQEib2twi0c6tv6Q=
  - secure: DlX4dXaKkNkJyaj4/ELV+vQdp80hQH1gv4oG3JPY5t4brAet+mSWLOD7UVmKHC6lGxZBgvcwb+DhGHrTz0LBN4VYY12DAWzbkRMefGNrwwPMhEejTGzxIcpBRVgSS9ErYA0AYM4pORjOMqHePQ137lQgnOT8CL+fi68uVpQR8Dk=
  - secure: kkxQWrE26xXBsgk9dpEe9G+84MIaQECjixefCPHkKkeGheqBGbLKQMu4483iKNMbax62v1Lzrt++yJtXhnfKH9pRlGv/8qFLkqKJxZnxREOKc/AWI95WadFkI6oayQ2z++QPUm1vS+tNkOJjl+T6ka8S+sE5pWidXZHBQM3SUrw=
  - secure: Ar4FZl11mTAEvHZRqip8zk2WsNrpn2C2ZX28NpUVdW03ElUVUElaawk5OobRua0mMdlkRy0WJ4KDqKNddTrKakmcbTqvXJcxnULqZpgZ9+4mDoMayR/osCfI4yJcrAFYvU1Q7PxPXfQ3LRJdmS3p2uyBybd8uNiHth4ZoOe42Ng=
  - secure: IPcj+13GnkC3+QpvHiRN6WhkCdUKmMV7loCVEMbYwrNL/tpx6baip+muccJNB6yDLAoEhFYlVQrg2GuE8s3B9knZNRmPdx2lp5PnMOZdIP+o8Pjs/g5W2YEPw3tWI1UlI+4IqfGVBv/Q2ZKWFk6ARAHtNyYNJMVgkso6sSbJGrk=
  - secure: G7rQcEDf0ByHqGMnmPjpc3y+V7CWKKakntZ+KLGlqqXKqxxR3R2N21FTtocDQNp7AelInp5P6jhzqMEhGk6J/LODDLQ6y0L9Ps3ANQk7TiRVMA+QhwJj37W3SKuCi8rIOmKvi5kbcjddL739I2stXSK3d5AIKftj3BcjUv23RVY=
  - secure: GGGwKdrUK3QuZkUY/jTFA6vqTp+27qjUKhFokknCBvURH0gZXi9tT2Kz0hPJbn98g6Nv+8IaKZqJbo0p291MdHHk/q/sa4FzxJ5RnhMtY+1g7J99PAvqkSDWNk7Yf4vHN7GVaM0h0L/p0govjdIcpqKylB7RegEL6ARudNNB4qE=
  - secure: OMJjVd0ADaHZc2LnsahiMym41yPRRn81Oe4qQNDjcwegfdBCJKUSntoZLIvrf3gQtJk0VFyHDkKcIekOXghxGnTsxdonLhgB60Ywfw7d6jHNLMxOa/XHgQTmFfWR8gUisEHUo4OOm23DXM54T8hJ3Vx1vESUPkA3l/zGxWb7tFI=
  - secure: WgZgXeirRJVSByt1ufDxM6OqFYr31kPRj5T1OO7Ru/L3mw5Y2TBeR1ce5sfjnKeT6V9Bg7YQyCGbUCS7ilClzPIa21Pd/29RxOvy0eLsSPhpZb9qOYbpd9OktdfawHmuHk1GBtXjLE9V8RTkrMena7h74h83DwKBxEMMPTmc2p8=
  - secure: Zh7+z1Wicy62tGXu0mkuv/1Z7Z4BEq8+ZJ2nsLWyEv/GCgCIW/VtwCntK0qpcU5oRMkM1MdzqqMD8xFGzcUw4NaqUsNfZlrzPBcamU6BPu6wxh4vtMELRYQm9rIjfqifXlgS52BmeELKyXv2l0PUh0APhH7k/mTvd3GWBKxTEQ8=
  - secure: deGDHlxqZ4L5XZodQh19Abykd/B8r7/BU7OZ+ZiSx324SlreRqk54vpQbJvPm+wEMVL+9acIEAko88AebrkiPOnNcB3bHZw1QaSm9m3gzaML72UEqZzSHFLi3vMCtyjP7CEYPW7nHEHvb/BB4C5FUIeKgs538Bdo/YedFaAKD4M=
  - secure: WJjO59HNuK3LztJ5UdTHQcmhHRRl6bpKbJg7xJlslcuuEn201Dk4uwrQLFe2tECJbqDmF4NXjeV3Wh4t0fWp0ytuZOtFJ0aR6HvvcIS38HsOOtaqjjQfq4bPN2cI0unIGjKJdoP82F6NRFiKt/htxU4elFDsINQ/rtt6LaCoJ9E=
  - secure: IAFhGf7PD3slGk9mdvIET7AxDnaAoIEFDRaGa+iZ7ugmSbF6u6H3D5CMGlGwqhEtoA3IQJhl89LYAh2drXasHcNC8DjlaaBII/Wt6BubwVk185a2YedXeOOSPssU+5hyWjOOUQI6LfaIqjtCVxagkC/IU8tqt7K+v6NP3Qms7Vk=
  - secure: Mm0YbylEJlolbkndeyJy5dQMNUBF5DWL0xqUm+kmys2tv+/T0rtZCUyf2cXoRBg/OrfsabG59exSeaIu9yIOknvaBFHOeCagJ0fzw+u9blMOpPnjeKLkyQYNnh1cUCln2OkFGQ10n7Niwzd1kk7d4/HapREIyVgC1v7xotm1XPo=
  - secure: jjx9FXYwXNRTWWwU81Ks8tTwWMdJi6zOwEhXG8FknVMfMtaMXdktkzA1OyVzE6JB4WZVNrrkfrtTi8OznENanMA4Pa4GtZqrbDyidtok1meqbOajmN4n81kPrxPudN1eVUyPOZeQ02yXXMOfQUkqxG1FnYN2XSoMQvhEXSfRVEk=
  - secure: LdSv9S8HTYR/eVY6ru3WPAmcd6vCdeAhATfoqWoXXnYgLXGGosfH5kWAa2Ef716EiM2sISilvZS4uriNNaSxQOYCWbs5Dal2frcfUoK3iyPfX/GgV4Jvqw56el941EBuQNv3c26LUY8yR9hZjKIoXZiNXhPERCBr9wWOPhWs77g=
  - secure: CrJENB81Y5vWd0wHB6AQ69WijVfWhjYaZb4Ph6rvvNEciNuAgrKjwgBqW7TIKVeJ9wAP5Gp6/eITmHbmMwtEfeuyXz+LJh7pKmOIx7gkiZi2bwFXBB91tXXsrIjsJtaYX9ewK8XB0WXmDJEjy18Am6gQ7MFlbGb44VFrnInhDZ4=
  - secure: nsG/nwNJBfQC2rjaF2ai1m/6BSSafFVZ/lg08pwuUQOf6QM0hEmHUwaIjG3vFAAyGWm/kctp09/e3fBn2oxIfUhG5DaEPIu0hVh+5vEwGUhI7tdDMn3SvhsL7CQBJf4+f+pJz8iyHshreoUobwpvKCnbyF0IIPp4PuUV4NKpDfA=
  - secure: b4wGztfCK/nQvtRv9DxTzT+ZKsCT9eLJfnTi6/2BrlLNajmQWMBBUfUJlqmfGU98lvmuBf1TmzrDPCp2+XoneIoZurVWG05K6EX6/EVWBD4Gs/t3MlwOGjweAZ/yYc/49J8ejfC4mdoiFdhUUtQm5o9i6NzMv1R/1dsINHZjFgA=
  - secure: F03m31LW6qQcP3Hu1VMkFxpghls4iHbqTpHFb6eUAIRui3mNQLFsoWoBInIkyRIvBFxTxLDatWWtlfapz1Y0TjrXpmOOf0H9zmCDqcrrpX5ZkGMedOfUctJ5pyMV1KsiEVnbkyzQytZR7eFoZam+99wp0crzUsXLJTUJ3d4io4I=
  - secure: cTBrPYxaEeDFNybs7OEdFo7S8YIwIaqQXydTiI1l5kMMdKFZel/fP6p6KrNNI8uK1d7R+WGwPvci0pj+J/RvNpqz3uORA+GKaSyAd+gzUddAIQqih8zBXmVeoke4eg+bihCiw0IIbO8TIZk1rQ4re5VAUvko1DPmD5MVk6KHQbM=
  - secure: K1mMoLvwmlsjE5acVyu/fhDmcc7pkdsBXZDIsrWMz8NskMIhvzRKSw0B6tGI8o1ub/muyAFl0jFBu4rf6gidqwNSs1lXFwYU6JvK68ysRZ/J099o9A6jkAyQdZLHuha/jhucRAoe53NhlKxzmirHRU96PvPYg4yyFpUNcU6ZXgM=
  - secure: U4Dtp793dQdovMNEE+UsqThjME81WC+zq7hq5hVQt7D+k7AYwkle2zs7lTU2GoTs6KEo4QdDnuXIPnIp0zUqr1+gZ/FCS4iLJF+62YpBT+yxOnTI4q8N0oNleHFSJBqwkctPgV8QqpG9yYSYbH/M09oL4ExTOVjARGIyGENizBs=
  - secure: X6b3W6s/JhT7U/dNP4OoDP5FSJ5ZQP13nKYduRIohIyv+xj4eeO7pPBmJCU3lV+L6zlt7jS6F6zGq+EdjlnJZlhsGqmYI1LLI5n/MQ9gF8Qx5b8y1t5t9PCT75PAirS9sbFsReK//1K/xKS8fmwKeNzK+f7HxNj3UKvP/AnzwqI=
  - secure: BPzvWKKq8pljgMvJPLXzng18bIZ89jaN5j+9RKVeYbKUsSY6Hudl9zlcGxblrsrWfZ+cPlJqXztPI6JB5O4qj6GQl2DVgP/6TWuaLvW8ZOxqwXkSXHYMeth1Dp7aBs2cE7YUW6ZFWuzHu9IKGltqZoyCTaD5heaxYvY74oilk1o=
  - secure: o7tbTAGpmNCUSgWORg8hIRwZTtVgWHpJGMxaSR1XO+MHWECndwfxsIt7zvdWKtfLaWJSckhoOpVHtiPooCO+mNOq+VKxSiYBB3fWnymvjzY2l+hH/W1q5DmI8qV9RlYOm6f6qfHnIlzdLnm50IP+J/iu/Uw4/Rm/LmKK5Qw9Xdo=
  - secure: IGcUyAGdsiE3R9O69ZcoaYiSYbLMlnurBh0oN8BC7AspuCf2IGPoy6+f+hOKVZ5MbeY1ltzs21zsB3MHLTpEm2nD1mKTYO8e+sJPPwqaA614epRwdAiIImKrzspaNR6g2+T8Y4nAA9OhTrdkjaKA8I4BHzidRLR2zX1b19OJoMg=
  - secure: IB1ha/Bc5ApSVFR3Um0WClIg8Ws6wMkLB7o6/Ms1Kws7axy+sbP1Hi/9HlndqYAKY6J5WUjMXR/Te6c4cJky8WhqueUMsb0h/gIRxjtj/R/LZazrCxZZzSJyvQAUYKK8bhekTMQ4UvK+pMuVPE11sr2VMIqSit/MwapmWLknLSY=
  - secure: Y0yuovGouPyic9O82+6HlPvQAqSryPWrl2o3Gl7ENbjuUThQ6JYQ+frrGIXgPwfGPZZrJXBfFAB/Cx6SHVypgXq/dftxHX8m9QdbwRogCG+ipXMZkAFjX2YaRTYhVRZU449OJNj4RJRg1ZH52yO3KWkHqn5H2N840go/wFY/H0M=
  - secure: PR/MM9pXuh98dzbYz/VcF1+RRZzK6o1ULKh6HRpT5joc54uhWJa3tEzoP5Ly/44fRu3dbSFTCMfGj8S+9HB4GhKwbtNbIrxTyzjFZmuSX/8ic7oDTAasEAzgfaOi1irMm7MUcZ+Urq2yPIGSbgrRtC5wmAz1r1OtnqBMTb6HO5g=
  - secure: ZN7jCl/3G2paDqGD33jGSx7JTmOAgyCOnF2uS5YkmrbpTiw0ug9QRfdyuDsRuKw9h7qL6rLqcy6+ogKhcGXqAM1SeT7fGG5/aQMP45c/zBxkuwpN9C0lkHGLBFbEYKl90s5Jc2WVssVlcjHkQSAhd7Ab+DHk6ewzX6+TFEqlNi4=
  - secure: TpdzowTJOEYzXajVEWjku5n29iASGQmrAPAxKDBkR2O6DyOOuVg9G6QZp2ne9CixBY1gap6CeNymjRjCTbKipkRZRXFReR6FuOrbZt15zfPEEhSjoC91Mm6pn9Nf8WTciQn0qnEoXsbYmWrzTFyCmDnyNbNWs5kj8+gtTtdfkfk=
  - secure: qDLFdk+VmrX0usXyzbGbJ95Ow7HjJ2ig0QBH4sqLoZbBiWSpwAr8SSA5RX40j0/9bw91A4G6ERwsMtEKitVEiyGsog62TroM/U21JNteH6BuGIYNLqEx3aI2QhL53crfAGOMOIqUW9DpDBhpGIieXWurQJq37Ct+p2UNn25PFvA=
  - secure: YbeGFlY/NTfldM5/wpXJGkk6keUqH1yA1nFLV0PsZbWHkHBb3A68G7XSDL441WGUhuVW3LzIlLAStMj5sz8mswmAPhO7SytDSB3n60OEr0sT/vJjjCSXojSpxmgQA/siuou2quw+L0YUdRsgKcLrfFvWT0mA5MeN5u/qnngy22Y=
  - secure: lN6IzUvfo54QElm/0q4cDCCtYgWjfGTsGWq4qoP0CqXEx57kiipTPR+XHi0yFRTtf6J7MgRDP2fZV06OKYu3Lrzwqh8O7YghGItIqqIOLdOlK980uMEB7NcXKaiOwoQgb1RyRmH12SKW11sBfZQlGvQoQdNNiS89rdzWawYa5MI=
  - secure: hZoli4O4kUsKOXul4xHTPJ2gRwldKvisQuLEy2gGIzz7ArGqm/eZn5/q+bVq3fELsCA77QfpwhX+PcaNhJa3iyltNu1stFxed1BR/2Xrnpt9tLtY/zQJTvZFtaTVonH8lFoUipuK01ubYvMR3qyqIPhaRCEptIEbNf7+as/zYvo=
  matrix:
  - KITCHEN_INSTANCE='default-ubuntu-1204'
  - KITCHEN_INSTANCE='default-ubuntu-1004'
  - KITCHEN_INSTANCE='default-centos-64'
script:
- bundle exec kitchen test $KITCHEN_INSTANCE -l debug
after_script:
- bundle exec kitchen destroy $KITCHEN_INSTANCE
notifications:
  email:
  - aivantsov@qubell.com
